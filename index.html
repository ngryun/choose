<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2025_·Ñâ·Ö•·ÜØ·Ñã·Ö°·Ü®·ÑÄ·Ö©·ÑÉ·Ö≥·Üº·Ñí·Ö°·Ü®·ÑÄ·Ö≠_2022·ÑÄ·Ö¢·Ñå·Ö•·Üº_·Ñã·Öµ·ÜØ·Ñá·Ö°·Ü´ Í≥ºÎ™© ÏÑ†ÌÉù ÏãúÎÆ¨Î†àÏù¥ÏÖò</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        * { /* CSS uses single braces, Python .format() needs these escaped if they are not for JS template literals */
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            overflow-x: hidden;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 10px;
            font-size: 14px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            min-height: calc(100vh - 20px);
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 20px 15px;
            text-align: center;
        }

        .header h1 {
            font-size: 1.8em;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            word-break: keep-all;
        }

        .header p {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .tabs::-webkit-scrollbar {
            height: 3px;
        }

        .tabs::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .tabs::-webkit-scrollbar-thumb {
            background: #4facfe;
            border-radius: 3px;
        }

        .tab {
            padding: 12px 16px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 0.9em;
            transition: all 0.3s ease;
            white-space: nowrap;
            border-bottom: 3px solid transparent;
            min-width: 100px;
            flex-shrink: 0;
        }

        .tab:hover {
            background: #e9ecef;
        }

        .tab.active {
            background: white;
            border-bottom-color: #4facfe;
            color: #4facfe;
            font-weight: bold;
        }

        .semester-content {
            display: none;
            padding: 15px;
        }

        .semester-content.active {
            display: block;
        }

        .semester-info {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }

        .semester-info h2 {
            font-size: 1.3em;
            margin-bottom: 8px;
            word-break: keep-all;
        }

        .semester-info p {
            font-size: 0.9em;
            color: #666;
        }

        .course-section, .selection-group-wrapper { 
            margin-bottom: 25px;
        }
        
        .section-title { 
            font-size: 1.1em;
            font-weight: bold;
            color: #333;
            margin-bottom: 12px;
            padding: 8px 12px;
            background: linear-gradient(90deg, #e0e0e0, #f0f0f0); 
            border-left: 4px solid #667eea;
            border-radius: 4px;
        }

        .course-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 12px;
            margin-bottom: 15px;
        }

        .course-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 12px;
            transition: all 0.3s ease;
            min-height: 120px; 
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .course-card:hover {
            transform: translateY(-1px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .course-card.required {
            background: linear-gradient(135deg, #ffeaef 0%, #fdeff9 100%); 
            border-color: #ffacc5;
        }

        .course-card.selected {
            background: linear-gradient(135deg, #e6f7ff 0%, #f0faff 100%); 
            border-color: #4facfe;
            box-shadow: 0 3px 10px rgba(79, 172, 254, 0.3);
        }

        .course-card.disabled {
            background: #f1f1f1;
            border-color: #ccc;
            opacity: 0.6;
            cursor: not-allowed;
        }

        .course-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
            gap: 8px;
        }

        .course-name {
            font-weight: bold;
            font-size: 1em;
            color: #333;
            line-height: 1.3;
            word-break: keep-all; 
            flex: 1;
        }

        .course-credit {
            background: #667eea;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .course-info {
            color: #666;
            font-size: 0.8em;
            margin-bottom: 10px;
            line-height: 1.4; 
        }

        .course-checkbox {
            margin-top: auto; 
            padding-top: 10px;
        }

        .course-checkbox input {
            margin-right: 8px;
            transform: scale(1.3);
            cursor: pointer;
            vertical-align: middle; 
        }

        .course-checkbox input:disabled {
            cursor: not-allowed;
        }

        .course-checkbox label {
            cursor: pointer;
            font-weight: 500;
            font-size: 0.9em;
            user-select: none;
            -webkit-user-select: none;
            vertical-align: middle; 
        }

        .selection-group-wrapper { 
            background: #fff9e6; 
            border: 1px solid #ffecb3;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }

        .selection-group-title { 
            font-size: 1.05em; 
            font-weight: bold;
            color: #854d0e; 
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 2px solid #ffdd80;
        }

        .selection-count {
            background: rgba(133, 77, 14, 0.1);
            padding: 4px 10px; 
            border-radius: 15px; 
            font-size: 0.85em; 
            color: #854d0e;
            font-weight: 500;
        }

        .selection-group-wrapper.selection-limit-reached {
            background: #ffebee; 
            border-color: #ffcdd2;
        }

        .selection-group-wrapper.selection-limit-reached .selection-group-title {
            color: #c62828; 
            border-bottom-color: #ef9a9a;
        }
        
        .required-notice { 
            color: #1b5e20; 
            font-weight: bold;
            margin-top: 10px;
            font-size: 0.85em;
        }

        .summary {
            position: sticky;
            top: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
            z-index: 10; 
        }

        .summary h3 {
            margin-bottom: 12px;
            text-align: center;
            font-size: 1.1em;
        }

        .selected-courses {
            max-height: 250px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .selected-courses::-webkit-scrollbar {
            width: 4px;
        }

        .selected-courses::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
        }

        .selected-courses::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.3);
            border-radius: 2px;
        }

        .selected-course-item {
            background: rgba(255,255,255,0.1);
            padding: 8px 10px;
            margin: 4px 0;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9em;
        }

        .selected-course-item span:first-child {
            flex: 1;
            margin-right: 8px;
            word-break: keep-all;
        }

        .total-credits {
            text-align: center;
            font-size: 1.1em;
            font-weight: bold;
            margin-top: 12px;
            padding: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
        }

        .export-button {
            background: linear-gradient(135deg, #ff6b35 0%, #ff8e35 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 0.95em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
            width: 100%;
            box-shadow: 0 2px 8px rgba(255, 107, 53, 0.3);
        }

        .export-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(255, 107, 53, 0.4);
            background: linear-gradient(135deg, #ff8e35 0%, #ff6b35 100%);
        }

        .export-button:active {
            transform: translateY(0);
        }

        .export-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Î™®Î∞îÏùº ÏµúÏ†ÅÌôî */
        @media (max-width: 768px) {
            body {
                padding: 5px;
                font-size: 13px;
            }
            
            .container {
                border-radius: 10px;
                min-height: calc(100vh - 10px);
            }
            
            .header {
                padding: 15px 10px;
            }
            
            .header h1 {
                font-size: 1.5em;
            }
            
            .tab {
                padding: 10px 12px;
                font-size: 0.85em;
                min-width: 90px;
            }
            
            .semester-content {
                padding: 10px;
            }
            
            .course-grid {
                grid-template-columns: 1fr; 
                gap: 10px;
            }
            
            .course-card {
                padding: 10px;
            }
            
            .course-name {
                font-size: 0.95em;
            }
            
            .course-credit {
                font-size: 0.75em;
                padding: 2px 6px;
            }
            
            .summary {
                position: static; 
                margin-top: 15px;
                padding: 12px;
            }
            
            .selected-courses {
                max-height: 200px;
            }
        }

        @media (max-width: 480px) {
            body {
                font-size: 12px;
            }
            
            .header h1 {
                font-size: 1.3em;
            }
            
            .tab {
                padding: 8px 10px;
                font-size: 0.8em;
                min-width: 80px;
            }
            
            .course-card {
                padding: 8px;
            }
            
            .course-name {
                font-size: 0.9em;
            }
            
            .course-checkbox input {
                transform: scale(1.4); 
            }
            
            .course-checkbox label {
                font-size: 0.85em;
            }
        }

        @media (pointer: coarse) {
            .tab {
                min-height: 44px; 
            }
            
            .course-checkbox {
                padding: 8px 0; 
            }
            
            .course-checkbox input {
                min-width: 24px; 
                min-height: 24px;
            }
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéì 2025_·Ñâ·Ö•·ÜØ·Ñã·Ö°·Ü®·ÑÄ·Ö©·ÑÉ·Ö≥·Üº·Ñí·Ö°·Ü®·ÑÄ·Ö≠_2022·ÑÄ·Ö¢·Ñå·Ö•·Üº_·Ñã·Öµ·ÜØ·Ñá·Ö°·Ü´</h1>
            <p>Í≥ºÎ™© ÏÑ†ÌÉù ÏãúÎÆ¨Î†àÏù¥ÏÖò</p>
        </div>

        <div class="tabs" id="tabsContainer">
            <!-- ÌÉ≠Îì§Ïù¥ ÎèôÏ†ÅÏúºÎ°ú ÏÉùÏÑ±Îê©ÎãàÎã§ -->
        </div>

        <div id="semesterContents">
            <!-- ÌïôÍ∏∞Î≥Ñ ÏΩòÌÖêÏ∏†Í∞Ä ÎèôÏ†ÅÏúºÎ°ú ÏÉùÏÑ±Îê©ÎãàÎã§ -->
        </div>

        <div class="summary">
            <h3>üìã ÏÑ†ÌÉù ÌòÑÌô© ÏöîÏïΩ</h3>
            <div class="selected-courses" id="summaryList"></div>
            <div class="total-credits" id="totalCredits">Ï¥ù ÌïôÏ†ê: 0ÌïôÏ†ê</div>
            <button class="export-button" onclick="exportToPDF()" id="exportBtn">
                üìÑ PDFÎ°ú ÎÇ¥Î≥¥ÎÇ¥Í∏∞
            </button>
        </div>
    </div>

    <script>
        const courseData = [
  {
    "semester": "1ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "Í≥µÌÜµ",
    "name": "Í≥µÌÜµÍµ≠Ïñ¥1",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "Íµ≠Ïñ¥",
    "group": "Íµ≠Ïñ¥",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "Í≥µÌÜµ",
    "name": "Í≥µÌÜµÏàòÌïô1",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "ÏàòÌïô",
    "group": "ÏàòÌïô",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "Í≥µÌÜµ",
    "name": "Í≥µÌÜµÏòÅÏñ¥1",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "ÏòÅÏñ¥",
    "group": "ÏòÅÏñ¥",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "Í≥µÌÜµ",
    "name": "ÌÜµÌï©ÏÇ¨Ìöå1",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "ÏÇ¨Ìöå",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "Í≥µÌÜµ",
    "name": "ÌÜµÌï©Í≥ºÌïô1",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "Í≥ºÌïô",
    "group": "Í≥ºÌïô",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "Í≥µÌÜµ",
    "name": "ÌïúÍµ≠ÏÇ¨1",
    "credits": 3,
    "required": "ÏßÄÏ†ï",
    "subject": "Ïó≠ÏÇ¨",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÏùåÏïÖ",
    "credits": 3,
    "required": "ÏßÄÏ†ï",
    "subject": "ÏùåÏïÖ",
    "group": "ÏòàÏà†",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "Ï≤¥Ïú°1",
    "credits": 2,
    "required": "ÏßÄÏ†ï",
    "subject": "Ï≤¥Ïú°",
    "group": "Ï≤¥Ïú°",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "Í≥µÌÜµ",
    "name": "Í≥ºÌïôÌÉêÍµ¨Ïã§Ìóò1",
    "credits": 1,
    "required": "ÏßÄÏ†ï",
    "subject": "Í≥ºÌïô",
    "group": "Í≥ºÌïô",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "Í≥µÌÜµ",
    "name": "Í≥µÌÜµÍµ≠Ïñ¥2",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "Íµ≠Ïñ¥",
    "group": "Íµ≠Ïñ¥",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "Í≥µÌÜµ",
    "name": "Í≥µÌÜµÏàòÌïô2",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "ÏàòÌïô",
    "group": "ÏàòÌïô",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "Í≥µÌÜµ",
    "name": "Í≥µÌÜµÏòÅÏñ¥2",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "ÏòÅÏñ¥",
    "group": "ÏòÅÏñ¥",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "Í≥µÌÜµ",
    "name": "ÌÜµÌï©ÏÇ¨Ìöå2",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "ÏÇ¨Ìöå",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "Í≥µÌÜµ",
    "name": "ÌÜµÌï©Í≥ºÌïô2",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "Í≥ºÌïô",
    "group": "Í≥ºÌïô",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "Í≥µÌÜµ",
    "name": "ÌïúÍµ≠ÏÇ¨2",
    "credits": 3,
    "required": "ÏßÄÏ†ï",
    "subject": "Ïó≠ÏÇ¨",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÎØ∏Ïà†",
    "credits": 3,
    "required": "ÏßÄÏ†ï",
    "subject": "ÎØ∏Ïà†",
    "group": "ÏòàÏà†",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "Ï≤¥Ïú°2",
    "credits": 2,
    "required": "ÏßÄÏ†ï",
    "subject": "Ï≤¥Ïú°",
    "group": "Ï≤¥Ïú°",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "1ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "Í≥µÌÜµ",
    "name": "Í≥ºÌïôÌÉêÍµ¨Ïã§Ìóò2",
    "credits": 1,
    "required": "ÏßÄÏ†ï",
    "subject": "Í≥ºÌïô",
    "group": "Í≥ºÌïô",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "Î¨∏Ìïô",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "Íµ≠Ïñ¥",
    "group": "Íµ≠Ïñ¥",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÎåÄÏàò",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "ÏàòÌïô",
    "group": "ÏàòÌïô",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÏòÅÏñ¥‚Ö†",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "ÏòÅÏñ¥",
    "group": "ÏòÅÏñ¥",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Ïä§Ìè¨Ï∏† Î¨∏Ìôî",
    "credits": 1,
    "required": "ÏßÄÏ†ï",
    "subject": "Ï≤¥Ïú°",
    "group": "Ï≤¥Ïú°",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "Ïã§Ïö© ÌÜµÍ≥Ñ",
    "credits": 4,
    "required": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "subject": "ÏàòÌïô",
    "group": "ÏàòÌïô",
    "selection_group": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÏßÅÎ¨¥ ÏòÅÏñ¥",
    "credits": 4,
    "required": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "subject": "ÏòÅÏñ¥",
    "group": "ÏòÅÏñ¥",
    "selection_group": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÏÑ∏Í≥ÑÏãúÎØºÍ≥º ÏßÄÎ¶¨",
    "credits": 4,
    "required": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "subject": "ÏßÄÎ¶¨",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÏÑ∏Í≥ÑÏÇ¨",
    "credits": 4,
    "required": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "subject": "Ïó≠ÏÇ¨",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Î≤ïÍ≥º ÏÇ¨Ìöå",
    "credits": 4,
    "required": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "subject": "ÏùºÎ∞òÏÇ¨Ìöå",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Ïù∏Î¨∏ÌïôÍ≥º Ïú§Î¶¨",
    "credits": 4,
    "required": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "subject": "ÎèÑÎçï",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "Î¨ºÎ¶¨Ìïô",
    "credits": 4,
    "required": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "subject": "Î¨ºÎ¶¨Ìïô",
    "group": "Í≥ºÌïô",
    "selection_group": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÌôîÌïô",
    "credits": 4,
    "required": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "subject": "ÌôîÌïô",
    "group": "Í≥ºÌïô",
    "selection_group": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÏÉùÎ™ÖÍ≥ºÌïô",
    "credits": 4,
    "required": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "subject": "ÏÉùÎ™ÖÍ≥ºÌïô",
    "group": "Í≥ºÌïô",
    "selection_group": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÏßÄÍµ¨Í≥ºÌïô",
    "credits": 4,
    "required": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "subject": "ÏßÄÍµ¨Í≥ºÌïô",
    "group": "Í≥ºÌïô",
    "selection_group": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÎØ∏Ïà† Ï∞ΩÏûë",
    "credits": 4,
    "required": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "subject": "ÎØ∏Ïà†",
    "group": "ÏòàÏà†",
    "selection_group": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "Ï§ëÍµ≠Ïñ¥",
    "credits": 4,
    "required": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "subject": "Ï†ú2Ïô∏Íµ≠Ïñ¥",
    "group": "Ï†ú2Ïô∏Íµ≠Ïñ¥/ÌïúÎ¨∏",
    "selection_group": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÏùºÎ≥∏Ïñ¥",
    "credits": 4,
    "required": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "subject": "Ï†ú2Ïô∏Íµ≠Ïñ¥",
    "group": "Ï†ú2Ïô∏Íµ≠Ïñ¥/ÌïúÎ¨∏",
    "selection_group": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÌïúÎ¨∏",
    "credits": 4,
    "required": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "subject": "ÌïúÎ¨∏",
    "group": "Ï†ú2Ïô∏Íµ≠Ïñ¥/ÌïúÎ¨∏",
    "selection_group": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÎèÖÏÑúÏôÄ ÏûëÎ¨∏",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "Íµ≠Ïñ¥",
    "group": "Íµ≠Ïñ¥",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÎØ∏Ï†ÅÎ∂Ñ‚Ö†",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "ÏàòÌïô",
    "group": "ÏàòÌïô",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÏòÅÏñ¥‚Ö°",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "ÏòÅÏñ¥",
    "group": "ÏòÅÏñ¥",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Ïä§Ìè¨Ï∏† Í≥ºÌïô",
    "credits": 1,
    "required": "ÏßÄÏ†ï",
    "subject": "Ï≤¥Ïú°",
    "group": "Ï≤¥Ïú°",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Ï£ºÏ†ú ÌÉêÍµ¨ ÎèÖÏÑú",
    "credits": 4,
    "required": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "subject": "Íµ≠Ïñ¥",
    "group": "Íµ≠Ïñ¥",
    "selection_group": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Î¨∏ÌïôÍ≥º ÏòÅÏÉÅ",
    "credits": 4,
    "required": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "subject": "Íµ≠Ïñ¥",
    "group": "Íµ≠Ïñ¥",
    "selection_group": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Í∏∞Ìïò",
    "credits": 4,
    "required": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "subject": "ÏàòÌïô",
    "group": "ÏàòÌïô",
    "selection_group": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "ÎØ∏ÎîîÏñ¥ ÏòÅÏñ¥",
    "credits": 4,
    "required": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "subject": "ÏòÅÏñ¥",
    "group": "ÏòÅÏñ¥",
    "selection_group": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÏÇ¨ÌöåÏôÄ Î¨∏Ìôî",
    "credits": 4,
    "required": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "subject": "ÏùºÎ∞òÏÇ¨Ìöå",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÌòÑÎåÄÏÇ¨ÌöåÏôÄ Ïú§Î¶¨",
    "credits": 4,
    "required": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "subject": "ÎèÑÎçï",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÎèÑÏãúÏùò ÎØ∏Îûò ÌÉêÍµ¨",
    "credits": 4,
    "required": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "subject": "ÏßÄÎ¶¨",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÎèôÏïÑÏãúÏïÑ Ïó≠ÏÇ¨ Í∏∞Ìñâ",
    "credits": 4,
    "required": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "subject": "Ïó≠ÏÇ¨",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Ïó≠ÌïôÍ≥º ÏóêÎÑàÏßÄ",
    "credits": 4,
    "required": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "subject": "Î¨ºÎ¶¨Ìïô",
    "group": "Í≥ºÌïô",
    "selection_group": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Î¨ºÏßàÍ≥º ÏóêÎÑàÏßÄ",
    "credits": 4,
    "required": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "subject": "ÌôîÌïô",
    "group": "Í≥ºÌïô",
    "selection_group": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÏÑ∏Ìè¨ÏôÄ Î¨ºÏßàÎåÄÏÇ¨",
    "credits": 4,
    "required": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "subject": "ÏÉùÎ™ÖÍ≥ºÌïô",
    "group": "Í≥ºÌïô",
    "selection_group": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÏßÄÍµ¨ÏãúÏä§ÌÖúÍ≥ºÌïô",
    "credits": 4,
    "required": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "subject": "ÏßÄÍµ¨Í≥ºÌïô",
    "group": "Í≥ºÌïô",
    "selection_group": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÏùåÏïÖ Í∞êÏÉÅÍ≥º ÎπÑÌèâ",
    "credits": 4,
    "required": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "subject": "ÏùåÏïÖ",
    "group": "ÏòàÏà†",
    "selection_group": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "Ï†ïÎ≥¥",
    "credits": 4,
    "required": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "subject": "Ï†ïÎ≥¥",
    "group": "Í∏∞Ïà†¬∑Í∞ÄÏ†ï/Ï†ïÎ≥¥",
    "selection_group": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "selection_limit": 4
  },
  {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Ïù∏Í∞ÑÍ≥º Ïã¨Î¶¨",
    "credits": 4,
    "required": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "subject": "ÍµêÏñë",
    "group": "ÍµêÏñë",
    "selection_group": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "selection_limit": 4
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÌôîÎ≤ïÍ≥º Ïñ∏Ïñ¥",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "Íµ≠Ïñ¥",
    "group": "Íµ≠Ïñ¥",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÌôïÎ•†Í≥º ÌÜµÍ≥Ñ",
    "credits": 4,
    "required": "ÏßÄÏ†ï",
    "subject": "ÏàòÌïô",
    "group": "ÏàòÌïô",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "Ïä§Ìè¨Ï∏† ÏÉùÌôú1",
    "credits": 2,
    "required": "ÏßÄÏ†ï",
    "subject": "Ï≤¥Ïú°",
    "group": "Ï≤¥Ïú°",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "ÎØ∏ÎîîÏñ¥ ÏòÅÏñ¥",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "ÏòÅÏñ¥",
    "group": "ÏòÅÏñ¥",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "ÎèÖÏÑú ÌÜ†Î°†Í≥º Í∏ÄÏì∞Í∏∞",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "Íµ≠Ïñ¥",
    "group": "Íµ≠Ïñ¥",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÎØ∏Ï†ÅÎ∂Ñ‚Ö°",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "ÏàòÌïô",
    "group": "ÏàòÌïô",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Í≤ΩÏ†ú ÏàòÌïô",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "ÏàòÌïô",
    "group": "ÏàòÌïô",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÏòÅÏñ¥ ÎèÖÌï¥ÏôÄ ÏûëÎ¨∏",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "ÏòÅÏñ¥",
    "group": "ÏòÅÏñ¥",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÏòÅÏñ¥ Î∞úÌëúÏôÄ ÌÜ†Î°†",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "ÏòÅÏñ¥",
    "group": "ÏòÅÏñ¥",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÌïúÍµ≠ÏßÄÎ¶¨ ÌÉêÍµ¨",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "ÏßÄÎ¶¨",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Ï†ïÏπò",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "ÏùºÎ∞òÏÇ¨Ìöå",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Ïú§Î¶¨ÏôÄ ÏÇ¨ÏÉÅ",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "ÎèÑÎçï",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "Ïó≠ÏÇ¨Î°ú ÌÉêÍµ¨ÌïòÎäî ÌòÑÎåÄ ÏÑ∏Í≥Ñ",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "Ïó≠ÏÇ¨",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Ï†ÑÏûêÍ∏∞ÏôÄ ÏñëÏûê",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "Î¨ºÎ¶¨Ìïô",
    "group": "Í≥ºÌïô",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÌôîÌïô Î∞òÏùëÏùò ÏÑ∏Í≥Ñ",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "ÌôîÌïô",
    "group": "Í≥ºÌïô",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÏÉùÎ¨ºÏùò Ïú†Ï†Ñ",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "ÏÉùÎ™ÖÍ≥ºÌïô",
    "group": "Í≥ºÌïô",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÌñâÏÑ±Ïö∞Ï£ºÍ≥ºÌïô",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "ÏßÄÍµ¨Í≥ºÌïô",
    "group": "Í≥ºÌïô",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "ÎØ∏Ïà†Í≥º Îß§Ï≤¥",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "ÎØ∏Ïà†",
    "group": "ÏòàÏà†",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Îç∞Ïù¥ÌÑ∞ Í≥ºÌïô",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "Ï†ïÎ≥¥",
    "group": "Í∏∞Ïà†¬∑Í∞ÄÏ†ï/Ï†ïÎ≥¥",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÍµêÏú°Ïùò Ïù¥Ìï¥",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "ÍµêÏñë",
    "group": "ÍµêÏñë",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Î≥¥Í±¥",
    "credits": 4,
    "required": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "subject": "ÍµêÏñë",
    "group": "ÍµêÏñë",
    "selection_group": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "Ïä§Ìè¨Ï∏† ÏÉùÌôú2",
    "credits": 2,
    "required": "ÏßÄÏ†ï",
    "subject": "Ï≤¥Ïú°",
    "group": "Ï≤¥Ïú°",
    "selection_group": null,
    "selection_limit": null
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÏßÅÎ¨¥ ÏòÅÏñ¥",
    "credits": 4,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "subject": "ÏòÅÏñ¥",
    "group": "ÏòÅÏñ¥",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÍµêÏú°Ïùò Ïù¥Ìï¥",
    "credits": 4,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "subject": "ÍµêÏñë",
    "group": "ÍµêÏñë",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Î≥¥Í±¥",
    "credits": 4,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "subject": "ÍµêÏñë",
    "group": "ÍµêÏñë",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "Îß§Ï≤¥ ÏùòÏÇ¨ÏÜåÌÜµ",
    "credits": 4,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "subject": "Íµ≠Ïñ¥",
    "group": "Íµ≠Ïñ¥",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "ÏàòÌïôÍ≥º Î¨∏Ìôî",
    "credits": 4,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "subject": "ÏàòÌïô",
    "group": "ÏàòÌïô",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "ÏÑ∏Í≥Ñ Î¨∏ÌôîÏôÄ ÏòÅÏñ¥",
    "credits": 4,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "subject": "ÏòÅÏñ¥",
    "group": "ÏòÅÏñ¥",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "Ïó¨ÌñâÏßÄÎ¶¨",
    "credits": 4,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "subject": "ÏßÄÎ¶¨",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "ÏÇ¨ÌöåÎ¨∏Ï†ú ÌÉêÍµ¨",
    "credits": 4,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "subject": "ÏùºÎ∞òÏÇ¨Ìöå",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "Ïú§Î¶¨Î¨∏Ï†ú ÌÉêÍµ¨",
    "credits": 4,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "subject": "ÎèÑÎçï",
    "group": "ÏÇ¨Ìöå(Ïó≠ÏÇ¨/ÎèÑÎçï Ìè¨Ìï®)",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏùºÎ∞ò",
    "name": "ÏÉùÌÉúÏôÄ ÌôòÍ≤Ω",
    "credits": 4,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "subject": "ÍµêÏñë",
    "group": "ÍµêÏñë",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "Ïù∏Í∞ÑÍ≥º Ï≤†Ìïô",
    "credits": 4,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "subject": "ÍµêÏñë",
    "group": "ÍµêÏñë",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÎÖºÎ¶¨ÏôÄ ÏÇ¨Í≥†",
    "credits": 4,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "subject": "ÍµêÏñë",
    "group": "ÍµêÏñë",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "Ïù∏Í∞ÑÍ≥º Í≤ΩÏ†úÌôúÎèô",
    "credits": 4,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "subject": "ÍµêÏñë",
    "group": "ÍµêÏñë",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "ÎÖºÏà†",
    "credits": 4,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "subject": "ÍµêÏñë",
    "group": "ÍµêÏñë",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "selection_limit": 5
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "Ïñ∏Ïñ¥ÏÉùÌôú ÌÉêÍµ¨",
    "credits": 3,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞E",
    "subject": "Íµ≠Ïñ¥",
    "group": "Íµ≠Ïñ¥",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞E",
    "selection_limit": 2
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏßÑÎ°ú",
    "name": "ÏßÅÎ¨¥ ÏàòÌïô",
    "credits": 3,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞E",
    "subject": "ÏàòÌïô",
    "group": "ÏàòÌïô",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞E",
    "selection_limit": 2
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "Ïã§ÏÉùÌôú ÏòÅÏñ¥ ÌöåÌôî",
    "credits": 3,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞E",
    "subject": "ÏòÅÏñ¥",
    "group": "ÏòÅÏñ¥",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞E",
    "selection_limit": 2
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "Í≥ºÌïôÏùò Ïó≠ÏÇ¨ÏôÄ Î¨∏Ìôî",
    "credits": 3,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞E",
    "subject": "Í≥ºÌïô",
    "group": "Í≥ºÌïô",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞E",
    "selection_limit": 2
  },
  {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "type": "ÏúµÌï©",
    "name": "Í∏∞ÌõÑÎ≥ÄÌôîÏôÄ ÌôòÍ≤ΩÏÉùÌÉú",
    "credits": 3,
    "required": "3ÌïôÎÖÑ2ÌïôÍ∏∞E",
    "subject": "Í≥ºÌïô",
    "group": "Í≥ºÌïô",
    "selection_group": "3ÌïôÎÖÑ2ÌïôÍ∏∞E",
    "selection_limit": 2
  }
];
        const groupLimits = {
  "2ÌïôÎÖÑ 1ÌïôÍ∏∞_2ÌïôÎÖÑ1ÌïôÍ∏∞A": {
    "semester": "2ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "group_name": "2ÌïôÎÖÑ1ÌïôÍ∏∞A",
    "limit": 4
  },
  "2ÌïôÎÖÑ 2ÌïôÍ∏∞_2ÌïôÎÖÑ2ÌïôÍ∏∞B": {
    "semester": "2ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "group_name": "2ÌïôÎÖÑ2ÌïôÍ∏∞B",
    "limit": 4
  },
  "3ÌïôÎÖÑ 1ÌïôÍ∏∞_3ÌïôÎÖÑ1ÌïôÍ∏∞C": {
    "semester": "3ÌïôÎÖÑ 1ÌïôÍ∏∞",
    "group_name": "3ÌïôÎÖÑ1ÌïôÍ∏∞C",
    "limit": 5
  },
  "3ÌïôÎÖÑ 2ÌïôÍ∏∞_3ÌïôÎÖÑ2ÌïôÍ∏∞D": {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "group_name": "3ÌïôÎÖÑ2ÌïôÍ∏∞D",
    "limit": 5
  },
  "3ÌïôÎÖÑ 2ÌïôÍ∏∞_3ÌïôÎÖÑ2ÌïôÍ∏∞E": {
    "semester": "3ÌïôÎÖÑ 2ÌïôÍ∏∞",
    "group_name": "3ÌïôÎÖÑ2ÌïôÍ∏∞E",
    "limit": 2
  }
}; // Key: "ÌïôÍ∏∞_ÏÑ†ÌÉùÍ∑∏Î£πÎ™Ö"
        
        let selectedCourses = {}; 
        let semesterList = [];      
        let selectionGroups = {}; // Key: "ÌïôÍ∏∞_ÏÑ†ÌÉùÍ∑∏Î£πÎ™Ö", Value: { semester, name, limit, selected: [] }

        document.addEventListener('DOMContentLoaded', function() {
            initializeSimulator();
        });

        function initializeSimulator() {
            try {
                semesterList = [...new Set(courseData.map(course => course.semester))].filter(s => s && String(s).trim() !== "").sort();
                semesterList.forEach(semester => {
                    selectedCourses[semester] = [];
                });

                initializeSelectionGroups(); 

                generateTabs();
                generateSemesterContents(); // This will now build the new structure

                if (semesterList.length > 0) {
                    showSemester(semesterList[0]); 
                } else {
                    document.getElementById('semesterContents').innerHTML = '<p style="text-align:center; padding:20px;">ÌëúÏãúÌï† ÌïôÍ∏∞ Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§. ÏóëÏÖÄ ÌååÏùºÏùò ÌïôÍ∏∞ Îç∞Ïù¥ÌÑ∞Î•º ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.</p>';
                    updateSummary(); 
                }

                console.log('ÏãúÎÆ¨Î†àÏù¥ÏÖò Ï¥àÍ∏∞Ìôî ÏôÑÎ£å:', {
                    Ï¥ùÍ≥ºÎ™©Ïàò: courseData.length,
                    ÌïôÍ∏∞Î™©Î°ù: semesterList,
                    ÏÑ†ÌÉùÍ∑∏Î£πÏ†ïÏùò_fromPython: groupLimits,
                    ÌôúÏÑ±ÏÑ†ÌÉùÍ∑∏Î£π_JS: selectionGroups
                });
                
            } catch (error) {
                console.error('Ï¥àÍ∏∞Ìôî Ïò§Î•ò:', error);
                alert('ÏãúÎÆ¨Î†àÏù¥ÏÖò Ï¥àÍ∏∞Ìôî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. Í∞úÎ∞úÏûê ÏΩòÏÜîÏùÑ ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.');
            }
        }

        function initializeSelectionGroups() {
            selectionGroups = {}; 
            for (const key in groupLimits) { // groupLimits has "ÌïôÍ∏∞_ÏÑ†ÌÉùÍ∑∏Î£πÎ™Ö" as key
                if (groupLimits.hasOwnProperty(key)) {
                    const limitInfo = groupLimits[key];
                    selectionGroups[key] = { // JS selectionGroups also uses "ÌïôÍ∏∞_ÏÑ†ÌÉùÍ∑∏Î£πÎ™Ö" as key
                        semester: limitInfo.semester,
                        name: limitInfo.group_name, // This is the "ÏÑ†ÌÉùÍ∑∏Î£πÎ™Ö"
                        limit: limitInfo.limit,
                        selected: [] 
                    };
                }
            }

            courseData.forEach(course => {
                if (course.required === 'ÏßÄÏ†ï') { 
                    if (selectedCourses[course.semester] && !selectedCourses[course.semester].find(c => c.name === course.name)) {
                         selectedCourses[course.semester].push(course);
                    }
                    
                    if (course.selection_group) { 
                        const sgKey = `${course.semester}_${course.selection_group}`; // "ÌïôÍ∏∞_ÏÑ†ÌÉùÍ∑∏Î£πÎ™Ö"
                        if (selectionGroups[sgKey]) {
                            if (!selectionGroups[sgKey].selected.find(c => c.name === course.name)) {
                                selectionGroups[sgKey].selected.push(course);
                            }
                        } else {
                            // This case means a course has a selection_group, but that group is not defined in groupLimits
                            // This might happen if "Í∑∏Î£π ÎÇ¥ ÏÑ†ÌÉùÏàò" column is missing for some courses with a selection_group name.
                            console.warn(`ÏÑ†ÌÉù Í∑∏Î£π '${sgKey}' (Í≥ºÎ™©: ${course.name})Ïù¥ groupLimitsÏóê Ï†ïÏùòÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§. 'Í∑∏Î£π ÎÇ¥ ÏÑ†ÌÉùÏàò' Ïª¨ÎüºÏùÑ ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.`);
                        }
                    }
                }
            });
        }

        function generateTabs() {
            const tabsContainer = document.getElementById('tabsContainer');
            tabsContainer.innerHTML = '';
            semesterList.forEach((semester, index) => {
                const tab = document.createElement('button');
                tab.className = `tab ${index === 0 ? 'active' : ''}`;
                tab.textContent = semester;
                
                const semesterString = String(semester).replace(/'/g, "\'"); 
                tab.setAttribute('onclick', `showSemester('${semesterString}')`); 
                
                tab.addEventListener('touchstart', (e) => { e.preventDefault(); showSemester(semester); }, {passive: false});
                tabsContainer.appendChild(tab);
            });
        }

        function generateSemesterContents() {
            const contentsContainer = document.getElementById('semesterContents');
            contentsContainer.innerHTML = '';

            semesterList.forEach((semester, index) => {
                const semesterDiv = document.createElement('div');
                const safeSemesterId = String(semester).replace(/[^a-zA-Z0-9-_]/g, '');
                semesterDiv.className = `semester-content ${index === 0 ? 'active' : ''}`;
                semesterDiv.id = `semester-${safeSemesterId}`;

                const semesterCourses = courseData.filter(course => course.semester === semester);
                const requiredCourses = semesterCourses.filter(course => course.required === 'ÏßÄÏ†ï');
                const optionalCourses = semesterCourses.filter(course => course.required !== 'ÏßÄÏ†ï');

                const infoDiv = document.createElement('div');
                infoDiv.className = 'semester-info';
                infoDiv.innerHTML = `<h2>${semester}</h2><p>ÏßÄÏ†ïÍ≥ºÎ™©: ${requiredCourses.length}Í∞ú, ÏÑ†ÌÉùÍ≥ºÎ™©: ${optionalCourses.length}Í∞ú</p>`;
                semesterDiv.appendChild(infoDiv);

                // 1. ÏßÄÏ†ï Í≥ºÎ™© ÏÑπÏÖò
                if (requiredCourses.length > 0) {
                    const requiredSection = document.createElement('div');
                    requiredSection.className = 'course-section'; 
                    requiredSection.innerHTML = `<div class="section-title">üìö ÏßÄÏ†ïÍ≥ºÎ™©</div><div class="course-grid" id="required-${safeSemesterId}"></div>`;
                    semesterDiv.appendChild(requiredSection);
                }

                // 2. ÏÑ†ÌÉù Í∑∏Î£πÎ≥Ñ Í≥ºÎ™© (ÏÑ†ÌÉù Ï†úÌïúÏù¥ ÏûàÎäî Í∑∏Î£π)
                //    Iterate over selectionGroups that match the current semester
                const processedSelectionGroupNames = new Set(); // Track processed group names to avoid duplicate wrappers
                for (const sgKey in selectionGroups) {
                    if (selectionGroups.hasOwnProperty(sgKey) && selectionGroups[sgKey].semester === semester) {
                        const groupInfo = selectionGroups[sgKey]; // name here is the "ÏÑ†ÌÉùÍ∑∏Î£πÎ™Ö"
                        const selectionGroupName = groupInfo.name;

                        if (processedSelectionGroupNames.has(selectionGroupName)) continue; // Already created a wrapper for this group name

                        const safeSelectionGroupName = String(selectionGroupName).replace(/[^a-zA-Z0-9-_]/g, '');
                        const wrapperId = `wrapper-${safeSemesterId}-${safeSelectionGroupName}`;
                        const gridId = `grid-${safeSemesterId}-${safeSelectionGroupName}`;
                        const countId = `count-${safeSemesterId}-${safeSelectionGroupName}`;

                        const sgWrapper = document.createElement('div');
                        sgWrapper.className = 'selection-group-wrapper';
                        sgWrapper.id = wrapperId; 

                        // Title uses the selectionGroupName. ÍµêÍ≥º(Íµ∞) is not part of the main title here.
                        sgWrapper.innerHTML = `
                            <div class="selection-group-title">
                                <span>üéØ ${selectionGroupName}</span>
                                <span class="selection-count" id="${countId}">${groupInfo.selected.length} / ${groupInfo.limit}Í∞ú ÏÑ†ÌÉù</span>
                            </div>
                            <div class="course-grid" id="${gridId}"></div>`;
                        semesterDiv.appendChild(sgWrapper);
                        processedSelectionGroupNames.add(selectionGroupName);
                    }
                }
                
                // 3. ÏùºÎ∞ò ÏÑ†ÌÉù Í≥ºÎ™© (ÏÑ†ÌÉù Í∑∏Î£πÎ™ÖÏù¥ ÏóÜÍ±∞ÎÇò, ÏûàÏñ¥ÎèÑ groupLimitsÏóê Ï†ïÏùòÎêòÏßÄ ÏïäÏùÄ Í≥ºÎ™©)
                const generalOptionalCourses = optionalCourses.filter(course => {
                    if (!course.selection_group) return true; // No selection group name
                    const sgKey = `${course.semester}_${course.selection_group}`;
                    return !selectionGroups[sgKey]; // Selection group name exists, but not in defined selectionGroups
                });

                if (generalOptionalCourses.length > 0) {
                    const ÍµêÍ≥ºÍµ∞Îì§ForGeneral = [...new Set(generalOptionalCourses.map(course => course.group || 'Í∏∞ÌÉÄ'))].sort();
                    ÍµêÍ≥ºÍµ∞Îì§ForGeneral.forEach(ÍµêÍ≥ºÍµ∞_Ïù¥Î¶Ñ => {
                        const safeÍµêÍ≥ºÍµ∞ = String(ÍµêÍ≥ºÍµ∞_Ïù¥Î¶Ñ).replace(/[^a-zA-Z0-9-_]/g, '');
                        const sectionId = `section-general-${safeSemesterId}-${safeÍµêÍ≥ºÍµ∞}`;
                        const gridId = `grid-general-${safeSemesterId}-${safeÍµêÍ≥ºÍµ∞}`;
                        
                        const sectionDiv = document.createElement('div');
                        sectionDiv.className = 'course-section';
                        sectionDiv.id = sectionId;
                        sectionDiv.innerHTML = `
                            <div class="section-title">üìñ ${ÍµêÍ≥ºÍµ∞_Ïù¥Î¶Ñ} (ÏùºÎ∞òÏÑ†ÌÉù)</div>
                            <div class="course-grid" id="${gridId}"></div>`;
                        semesterDiv.appendChild(sectionDiv);
                    });
                }
                contentsContainer.appendChild(semesterDiv);
            });
            
            // Initial UI update for selection limits after structure is built
            semesterList.forEach(semester => {
                for (const sgKey in selectionGroups) {
                    if (selectionGroups.hasOwnProperty(sgKey) && selectionGroups[sgKey].semester === semester) {
                        const groupInfo = selectionGroups[sgKey];
                        updateSelectionLimitUI(semester, groupInfo.name); // Pass selectionGroupName
                    }
                }
            });
        }

        function showSemester(semester) {
            const safeSemesterId = String(semester).replace(/[^a-zA-Z0-9-_]/g, '');
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
             const activeTab = Array.from(document.querySelectorAll('.tab')).find(tab => tab.textContent === semester);
            if(activeTab) activeTab.classList.add('active');
            
            document.querySelectorAll('.semester-content').forEach(content => content.classList.remove('active'));
            const semesterContent = document.getElementById(`semester-${safeSemesterId}`);
            if (semesterContent) {
                semesterContent.classList.add('active');
                renderCourses(semester); 
            }
            updateSummary(); 
        }

        function renderCourses(semester) {
            const semesterCourses = courseData.filter(course => course.semester === semester);
            const safeSemesterId = String(semester).replace(/[^a-zA-Z0-9-_]/g, '');

            // 1. Render ÏßÄÏ†ï Í≥ºÎ™©
            const requiredContainer = document.getElementById(`required-${safeSemesterId}`);
            if (requiredContainer) {
                requiredContainer.innerHTML = '';
                semesterCourses.filter(c => c.required === 'ÏßÄÏ†ï').forEach(course => {
                    requiredContainer.appendChild(createCourseCard(course, true));
                });
            }

            const optionalCourses = semesterCourses.filter(course => course.required !== 'ÏßÄÏ†ï');

            // 2. Render Í≥ºÎ™© in ÏÑ†ÌÉù Í∑∏Î£π (ÏÑ†ÌÉù Ï†úÌïú ÏûàÎäî Í∑∏Î£π)
            const processedSelectionGroupNames = new Set();
            for (const sgKey in selectionGroups) {
                if (selectionGroups.hasOwnProperty(sgKey) && selectionGroups[sgKey].semester === semester) {
                    const groupInfo = selectionGroups[sgKey];
                    const selectionGroupName = groupInfo.name;
                    if (processedSelectionGroupNames.has(selectionGroupName)) continue;

                    const safeSelectionGroupName = String(selectionGroupName).replace(/[^a-zA-Z0-9-_]/g, '');
                    const gridId = `grid-${safeSemesterId}-${safeSelectionGroupName}`;
                    const gridContainer = document.getElementById(gridId);

                    if (gridContainer) {
                        gridContainer.innerHTML = '';
                        // Find all courses for this selection group name in this semester
                        const coursesForThisGroup = optionalCourses.filter(c => c.selection_group === selectionGroupName);
                        coursesForThisGroup.forEach(course => {
                            gridContainer.appendChild(createCourseCard(course, false));
                        });
                        updateSelectionLimitUI(semester, selectionGroupName);
                    } else {
                        // console.warn(`ÏÑ†ÌÉù Í∑∏Î£π Í∑∏Î¶¨Îìú Ïª®ÌÖåÏù¥ÎÑà '${gridId}'Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.`);
                    }
                    processedSelectionGroupNames.add(selectionGroupName);
                }
            }
            
            // 3. Render ÏùºÎ∞ò ÏÑ†ÌÉù Í≥ºÎ™©
            const generalOptionalCourses = optionalCourses.filter(course => {
                if (!course.selection_group) return true;
                const sgKey = `${course.semester}_${course.selection_group}`;
                return !selectionGroups[sgKey];
            });

            if (generalOptionalCourses.length > 0) {
                const ÍµêÍ≥ºÍµ∞Îì§ForGeneral = [...new Set(generalOptionalCourses.map(course => course.group || 'Í∏∞ÌÉÄ'))].sort();
                ÍµêÍ≥ºÍµ∞Îì§ForGeneral.forEach(ÍµêÍ≥ºÍµ∞_Ïù¥Î¶Ñ => {
                    const safeÍµêÍ≥ºÍµ∞ = String(ÍµêÍ≥ºÍµ∞_Ïù¥Î¶Ñ).replace(/[^a-zA-Z0-9-_]/g, '');
                    const gridId = `grid-general-${safeSemesterId}-${safeÍµêÍ≥ºÍµ∞}`;
                    const gridContainer = document.getElementById(gridId);
                    if (gridContainer) {
                        gridContainer.innerHTML = '';
                        const coursesForThisÍµêÍ≥ºÍµ∞ = generalOptionalCourses.filter(c => (c.group || 'Í∏∞ÌÉÄ') === ÍµêÍ≥ºÍµ∞_Ïù¥Î¶Ñ);
                        coursesForThisÍµêÍ≥ºÍµ∞.forEach(course => {
                            gridContainer.appendChild(createCourseCard(course, false));
                        });
                    } else {
                        // console.warn(`ÏùºÎ∞ò ÏÑ†ÌÉùÏö© Í∑∏Î¶¨Îìú Ïª®ÌÖåÏù¥ÎÑà '${gridId}'Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.`);
                    }
                });
            }
        }

        function createCourseCard(course, isRequired) {
            const card = document.createElement('div');
            card.className = 'course-card';
            if (isRequired) card.classList.add('required');

            const isSelected = selectedCourses[course.semester]?.some(c => c.name === course.name);
            if (isSelected) card.classList.add('selected');
            
            const safeSemester = String(course.semester).replace(/[^a-zA-Z0-9-_]/g, '');
            const safeCourseName = String(course.name).replace(/[^a-zA-Z0-9Í∞Ä-Ìû£-_]/g, '');
            const courseId = `course-${safeSemester}-${safeCourseName}`;
            let isDisabled = false;

            if (!isRequired && course.selection_group) { // Check if it belongs to any selection_group
                const sgKey = `${course.semester}_${course.selection_group}`;
                const groupInfo = selectionGroups[sgKey]; // Check if this group is a defined limited group
                if (groupInfo && groupInfo.selected.length >= groupInfo.limit && !isSelected) {
                    isDisabled = true;
                }
            }
            if (isDisabled) card.classList.add('disabled');

            let infoText = `${course.group || 'ÎØ∏Î∂ÑÎ•ò'} | ${course.type || 'Ï†ïÎ≥¥ÏóÜÏùå'}`;
            // Display selection_group name if it exists, regardless of whether it's a limited group
            if (course.selection_group) { 
                 infoText += ` | Í∑∏Î£π: ${course.selection_group}`;
            }
            if(course.subject) { 
                infoText += ` | Îã¥Îãπ: ${course.subject}`;
            }

            const escapedSemester = String(course.semester).replace(/'/g, "\\'");
            const escapedCourseName = String(course.name).replace(/'/g, "\\'");  

            card.innerHTML = `
                <div> 
                    <div class="course-header">
                        <div class="course-name">${course.name}</div>
                        <div class="course-credit">${course.credits}ÌïôÏ†ê</div>
                    </div>
                    <div class="course-info">${infoText}</div>
                </div>
                <div> 
                ${isRequired ? `<div class="required-notice">‚úì ÏßÄÏ†ïÍ≥ºÎ™© (ÏûêÎèô ÏÑ†ÌÉù)</div>` : `
                    <div class="course-checkbox">
                        <input type="checkbox" id="${courseId}" 
                               ${isSelected ? 'checked' : ''} 
                               ${isDisabled ? 'disabled' : ''}
                               onchange="toggleCourse('${escapedSemester}', '${escapedCourseName}', this)">
                        <label for="${courseId}">ÏÑ†ÌÉù</label>
                    </div>
                `}
                </div>
            `;
            return card;
        }

        function toggleCourse(semester, courseName, checkbox) {
            const course = courseData.find(c => c.semester === semester && c.name === courseName);
            if (!course) return;

            const isCurrentlySelected = selectedCourses[semester]?.some(c => c.name === courseName);

            if (checkbox.checked && !isCurrentlySelected) { 
                if (course.selection_group) { // If the course belongs to a selection_group
                    const sgKey = `${semester}_${course.selection_group}`;
                    const groupInfo = selectionGroups[sgKey]; // Check if it's a defined limited group
                    if (groupInfo && groupInfo.selected.length >= groupInfo.limit) {
                        checkbox.checked = false; 
                        alert(`'${groupInfo.name}' Í∑∏Î£πÏùÄ ÏµúÎåÄ ${groupInfo.limit}Í∞úÍπåÏßÄÎßå ÏÑ†ÌÉùÌï† Ïàò ÏûàÏäµÎãàÎã§.`);
                        return;
                    }
                    if (groupInfo) groupInfo.selected.push(course); // Add to selectionGroups only if it's a defined limited group
                }
                selectedCourses[semester].push(course);
            } else if (!checkbox.checked && isCurrentlySelected) { 
                if (course.selection_group) {
                    const sgKey = `${semester}_${course.selection_group}`;
                    const groupInfo = selectionGroups[sgKey];
                    if (groupInfo) { // Remove from selectionGroups only if it's a defined limited group
                        groupInfo.selected = groupInfo.selected.filter(c => c.name !== courseName);
                    }
                }
                selectedCourses[semester] = selectedCourses[semester].filter(c => c.name !== courseName);
            }
            
            checkbox.closest('.course-card').classList.toggle('selected', checkbox.checked);

            if (course.selection_group) { 
                 // Update UI for this specific selection group name
                 updateSelectionLimitUI(semester, course.selection_group);
            }
            
            renderCourses(semester); // Re-render to update disabled states of other cards
            updateSummary();
        }

        // Updated: ÍµêÍ≥ºÍµ∞_Ïù¥Î¶Ñ parameter is removed as it's not needed to identify the selection group UI elements
        function updateSelectionLimitUI(semester, selectionGroupName) {
            if (!selectionGroupName) return; 

            const sgDataKey = `${semester}_${selectionGroupName}`; 
            const groupInfo = selectionGroups[sgDataKey]; // Get info for this selection group
            if (!groupInfo) { // Not a defined limited group, or no limit info
                return;
            }
            
            const safeSemesterId = String(semester).replace(/[^a-zA-Z0-9-_]/g, '');
            const safeSelectionGroupName = String(selectionGroupName).replace(/[^a-zA-Z0-9-_]/g, '');
            
            // DOM IDs are now based on semester and selectionGroupName only
            const countId = `count-${safeSemesterId}-${safeSelectionGroupName}`;
            const wrapperId = `wrapper-${safeSemesterId}-${safeSelectionGroupName}`;

            const countElement = document.getElementById(countId);
            const wrapperElement = document.getElementById(wrapperId); 

            if (countElement) {
                countElement.textContent = `${groupInfo.selected.length} / ${groupInfo.limit}Í∞ú ÏÑ†ÌÉù`;
            }
            if (wrapperElement) {
                wrapperElement.classList.toggle('selection-limit-reached', groupInfo.selected.length >= groupInfo.limit);
            }
        }

        function updateSummary() {
            const summaryList = document.getElementById('summaryList');
            const totalCreditsElement = document.getElementById('totalCredits');
            const exportBtn = document.getElementById('exportBtn');
            
            summaryList.innerHTML = '';
            let totalCredits = 0;
            let hasSelectedCourses = false;

            semesterList.forEach(semester => {
                const courses = selectedCourses[semester] || [];
                if (courses.length > 0) {
                    hasSelectedCourses = true;
                    const semesterHeader = document.createElement('div');
                    semesterHeader.innerHTML = `<strong>${semester} (${courses.length}Í≥ºÎ™©)</strong>`;
                    semesterHeader.style.cssText = `margin-top: 10px; padding-bottom: 5px; border-bottom: 1px solid rgba(255,255,255,0.2); font-size: 0.95em;`;
                    if (summaryList.children.length > 0) semesterHeader.style.marginTop = '15px'; 
                    summaryList.appendChild(semesterHeader);

                    courses.forEach(course => {
                        const item = document.createElement('div');
                        item.className = 'selected-course-item';
                        item.innerHTML = `<span>${course.name}</span><span>${course.credits}ÌïôÏ†ê</span>`;
                        summaryList.appendChild(item);
                        totalCredits += Number(course.credits) || 0; 
                    });
                }
            });
            
            totalCreditsElement.textContent = `Ï¥ù ÏÑ†ÌÉù ÌïôÏ†ê: ${totalCredits}ÌïôÏ†ê`;
            
            if (summaryList.innerHTML === '') {
                summaryList.innerHTML = '<p style="text-align:center; opacity:0.7; padding:10px 0;">ÏÑ†ÌÉùÎêú Í≥ºÎ™©Ïù¥ ÏóÜÏäµÎãàÎã§.</p>';
            }

            // Enable/disable export button based on selected courses
            exportBtn.disabled = !hasSelectedCourses;
        }

        function exportToPDF() {
            try {
                // Check if required libraries are available
                if (typeof window.jspdf === 'undefined' || typeof html2canvas === 'undefined') {
                    alert('PDF ÏÉùÏÑ± ÎùºÏù¥Î∏åÎü¨Î¶¨Î•º Î°úÎìúÌï† Ïàò ÏóÜÏäµÎãàÎã§. ÌéòÏù¥ÏßÄÎ•º ÏÉàÎ°úÍ≥†Ïπ® ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.');
                    return;
                }

                // Get student information
                const studentNumber = prompt('ÌïôÎ≤àÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî:');
                if (!studentNumber || !studentNumber.trim()) {
                    alert('ÌïôÎ≤àÏùÑ ÏûÖÎ†•Ìï¥Ïïº Ìï©ÎãàÎã§.');
                    return;
                }

                const studentName = prompt('Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî:');
                if (!studentName || !studentName.trim()) {
                    alert('Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•Ìï¥Ïïº Ìï©ÎãàÎã§.');
                    return;
                }

                // Show loading message
                const exportBtn = document.getElementById('exportBtn');
                const originalText = exportBtn.textContent;
                exportBtn.textContent = 'üìÑ PDF ÏÉùÏÑ± Ï§ë...';
                exportBtn.disabled = true;

                // ÏÑ†ÌÉùÎêú Í≥ºÎ™©ÏùÑ ÍµêÍ≥º(Íµ∞)Î≥ÑÎ°ú Ï†ïÎ¶¨
                const coursesByGroup = {};
                let totalSelectedCredits = 0;

                semesterList.forEach(semester => {
                    const courses = selectedCourses[semester] || [];
                    courses.forEach(course => {
                        const groupName = course.group || 'Í∏∞ÌÉÄ';
                        if (!coursesByGroup[groupName]) {
                            coursesByGroup[groupName] = [];
                        }
                        coursesByGroup[groupName].push({
                            ...course,
                            semester: semester
                        });
                        totalSelectedCredits += Number(course.credits) || 0;
                    });
                });

                if (Object.keys(coursesByGroup).length === 0) {
                    alert('ÏÑ†ÌÉùÎêú Í≥ºÎ™©Ïù¥ ÏóÜÏäµÎãàÎã§.');
                    exportBtn.textContent = originalText;
                    exportBtn.disabled = false;
                    return;
                }

                // Create a temporary div with the report content
                const reportDiv = document.createElement('div');
                reportDiv.style.cssText = `
                    position: fixed; 
                    top: -9999px; 
                    left: 0; 
                    width: 800px; 
                    background: white; 
                    padding: 40px; 
                    font-family: 'Malgun Gothic', 'ÎßëÏùÄ Í≥†Îîï', Arial, sans-serif;
                    color: #333;
                    line-height: 1.6;
                `;

                // Build the HTML content
                const schoolName = '2025_·Ñâ·Ö•·ÜØ·Ñã·Ö°·Ü®·ÑÄ·Ö©·ÑÉ·Ö≥·Üº·Ñí·Ö°·Ü®·ÑÄ·Ö≠_2022·ÑÄ·Ö¢·Ñå·Ö•·Üº_·Ñã·Öµ·ÜØ·Ñá·Ö°·Ü´';
                const today = new Date().toLocaleDateString('ko-KR');
                const sortedGroups = Object.keys(coursesByGroup).sort();
                const totalCourses = Object.values(coursesByGroup).flat().length;

                let htmlContent = `
                    <div style="text-align: center; margin-bottom: 40px;">
                        <h1 style="font-size: 28px; margin-bottom: 10px; color: #2c3e50;">${schoolName}</h1>
                        <h2 style="font-size: 22px; margin-bottom: 20px; color: #34495e;">Í≥ºÎ™© ÏÑ†ÌÉù Í≥ÑÌöçÏÑú</h2>
                        <div style="font-size: 16px; margin-bottom: 10px;">
                            <strong>ÌïôÎ≤à:</strong> ${studentNumber.trim()} &nbsp;&nbsp;&nbsp; 
                            <strong>Ïù¥Î¶Ñ:</strong> ${studentName.trim()}
                        </div>
                        <p style="font-size: 14px; color: #7f8c8d;">ÏÉùÏÑ± ÎÇ†Ïßú: ${today}</p>
                    </div>
                    
                    <div style="margin-bottom: 30px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                        <h3 style="font-size: 18px; margin-bottom: 15px; color: #2c3e50;">üìä ÏÑ†ÌÉù Í≤∞Í≥º ÏöîÏïΩ</h3>
                        <div style="display: flex; justify-content: space-around; text-align: center;">
                            <div>
                                <div style="font-size: 24px; font-weight: bold; color: #e74c3c;">${totalSelectedCredits}</div>
                                <div style="font-size: 14px; color: #7f8c8d;">Ï¥ù ÌïôÏ†ê</div>
                            </div>
                            <div>
                                <div style="font-size: 24px; font-weight: bold; color: #3498db;">${totalCourses}</div>
                                <div style="font-size: 14px; color: #7f8c8d;">Ï¥ù Í≥ºÎ™© Ïàò</div>
                            </div>
                            <div>
                                <div style="font-size: 24px; font-weight: bold; color: #27ae60;">${sortedGroups.length}</div>
                                <div style="font-size: 14px; color: #7f8c8d;">ÍµêÍ≥º(Íµ∞) Ïàò</div>
                            </div>
                        </div>
                    </div>

                    <h3 style="font-size: 20px; margin-bottom: 25px; color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px;">üìö ÍµêÍ≥º(Íµ∞)Î≥Ñ ÏÑ†ÌÉù Í≥ºÎ™©</h3>
                `;

                sortedGroups.forEach(groupName => {
                    const groupCourses = coursesByGroup[groupName];
                    const groupCredits = groupCourses.reduce((sum, course) => sum + (Number(course.credits) || 0), 0);

                    htmlContent += `
                        <div style="margin-bottom: 30px; border: 1px solid #ddd; border-radius: 8px; overflow: hidden;">
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px;">
                                <h4 style="margin: 0; font-size: 18px; font-weight: bold;">${groupName} (Ï¥ù ${groupCredits}ÌïôÏ†ê)</h4>
                            </div>
                            <div style="padding: 20px;">
                                <table style="width: 100%; border-collapse: collapse;">
                                    <thead>
                                        <tr style="background: #f8f9fa;">
                                            <th style="padding: 12px; border: 1px solid #dee2e6; text-align: left; font-weight: bold;">Í≥ºÎ™©Î™Ö</th>
                                            <th style="padding: 12px; border: 1px solid #dee2e6; text-align: center; font-weight: bold; width: 100px;">Ïú†Ìòï</th>
                                            <th style="padding: 12px; border: 1px solid #dee2e6; text-align: center; font-weight: bold; width: 80px;">ÌïôÏ†ê</th>
                                            <th style="padding: 12px; border: 1px solid #dee2e6; text-align: center; font-weight: bold; width: 100px;">ÌïôÍ∏∞</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                    `;

                    groupCourses.forEach((course, index) => {
                        const bgColor = index % 2 === 0 ? 'white' : '#f8f9fa';
                        const courseType = course.type || 'ÎØ∏Î∂ÑÎ•ò';
                        
                        // Ïú†ÌòïÎ≥Ñ ÏÉâÏÉÅ ÏßÄÏ†ï
                        let typeColor = '#6c757d'; // Í∏∞Î≥∏ ÏÉâÏÉÅ
                        if (courseType.includes('Í≥µÌÜµ')) typeColor = '#28a745';
                        else if (courseType.includes('ÏùºÎ∞òÏÑ†ÌÉù')) typeColor = '#007bff';
                        else if (courseType.includes('ÏßÑÎ°úÏÑ†ÌÉù')) typeColor = '#fd7e14';
                        else if (courseType.includes('ÏúµÌï©ÏÑ†ÌÉù')) typeColor = '#6f42c1';
                        
                        htmlContent += `
                            <tr style="background: ${bgColor};">
                                <td style="padding: 12px; border: 1px solid #dee2e6;">${course.name}</td>
                                <td style="padding: 12px; border: 1px solid #dee2e6; text-align: center;">
                                    <span style="background: ${typeColor}; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold;">
                                        ${courseType}
                                    </span>
                                </td>
                                <td style="padding: 12px; border: 1px solid #dee2e6; text-align: center; font-weight: bold; color: #e74c3c;">${course.credits}</td>
                                <td style="padding: 12px; border: 1px solid #dee2e6; text-align: center;">${course.semester}</td>
                            </tr>
                        `;
                    });

                    htmlContent += `
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    `;
                });

                reportDiv.innerHTML = htmlContent;
                document.body.appendChild(reportDiv);

                // Generate PDF using html2canvas + jsPDF
                html2canvas(reportDiv, {
                    scale: 2,
                    useCORS: true,
                    allowTaint: true,
                    backgroundColor: '#ffffff',
                    width: 800,
                    height: reportDiv.scrollHeight
                }).then(canvas => {
                    const imgData = canvas.toDataURL('image/png');
                    
                    const { jsPDF } = window.jspdf;
                    const pdf = new jsPDF({
                        orientation: 'portrait',
                        unit: 'mm',
                        format: 'a4'
                    });

                    const imgWidth = 190; // A4 width minus margins
                    const pageHeight = 277; // A4 height minus margins
                    const imgHeight = (canvas.height * imgWidth) / canvas.width;
                    let heightLeft = imgHeight;
                    let position = 10;

                    // Add first page
                    pdf.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);
                    heightLeft -= pageHeight;

                    // Add additional pages if needed
                    while (heightLeft >= 0) {
                        position = heightLeft - imgHeight + 10;
                        pdf.addPage();
                        pdf.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);
                        heightLeft -= pageHeight;
                    }

                    // Clean up
                    document.body.removeChild(reportDiv);

                    // Generate filename with student info
                    const safeStudentNumber = studentNumber.trim().replace(/[^a-zA-Z0-9Í∞Ä-Ìû£]/g, '');
                    const safeStudentName = studentName.trim().replace(/[^a-zA-Z0-9Í∞Ä-Ìû£]/g, '');
                    const filename = `${safeStudentNumber}_${safeStudentName}_Í≥ºÎ™©ÏÑ†ÌÉùÍ≥ÑÌöçÏÑú.pdf`;
                    
                    pdf.save(filename);
                    
                    // Reset button
                    exportBtn.textContent = originalText;
                    exportBtn.disabled = false;
                    
                    alert(`PDF ÌååÏùºÏù¥ Îã§Ïö¥Î°úÎìúÎêòÏóàÏäµÎãàÎã§: ${filename}`);
                    
                }).catch(error => {
                    console.error('PDF ÏÉùÏÑ± Ïò§Î•ò:', error);
                    document.body.removeChild(reportDiv);
                    exportBtn.textContent = originalText;
                    exportBtn.disabled = false;
                    alert(`PDF ÏÉùÏÑ± Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§: ${error.message}`);
                });

            } catch (error) {
                console.error('PDF ÏÉùÏÑ± Ïò§Î•ò:', error);
                const exportBtn = document.getElementById('exportBtn');
                exportBtn.textContent = 'üìÑ PDFÎ°ú ÎÇ¥Î≥¥ÎÇ¥Í∏∞';
                exportBtn.disabled = false;
                alert(`PDF ÏÉùÏÑ± Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§: ${error.message}`);
            }
        }
        
        document.addEventListener('touchstart', function() {}, {passive: true});
    </script>
</body>
</html>